-----

# Friends List API & Telegram Bot

1.  **Django/DRF Backend:** REST API –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –ø–µ—Ä–µ–≥–ª—è–¥—É —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ø–∏—Å–∞–º–∏ –ø—Ä–æ –¥—Ä—É–∑—ñ–≤.
2.  **Telegram Bot:** –ë–æ—Ç –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ API —á–µ—Ä–µ–∑ Telegram, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –¥—Ä—É–∑—ñ–≤.

-----

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è / Setup

1.  **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**

    ```bash
    git clone https://github.com/Stekloduv/Friends_List.git
    cd Friends_List
    ```

2.  **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞ –∞–∫—Ç–∏–≤—É–π—Ç–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:**

    ```bash
    python -m venv venv
    source venv/bin/activate  # macOS/Linux
    .\venv\Scripts\activate   # Windows
    ```

3.  **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**

    ```bash
    pip install -r requirements.txt
    ```

4.  **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ `.env` —Ñ–∞–π–ª:**

      * –°–∫–æ–ø—ñ—é–π—Ç–µ `.env.example`
      * –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –π–æ–≥–æ –∑–≥—ñ–¥–Ω–æ –∑ –∞–∫—Ç—É–∞–ª—å–Ω–æ—é –¥–ª—è —Å–µ–±–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
      * 
5.  **–ó–∞—Å—Ç–æ—Å—É–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:**

    ```bash
    python manage.py migrate
    ```

6.  **(–û–ø—Ü—ñ–π–Ω–æ) –°—Ç–≤–æ—Ä—ñ—Ç—å —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –∞–¥–º—ñ–Ω–∫–∏:**

    ```bash
    python manage.py createsuperuser
    ```

-----

## üîë –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (.env)

–î–ª—è —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ—î–∫—Ç—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ —Ç–∞ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –π–æ–≥–æ:

```ini
# --- Django ---
SECRET_KEY=your-django-secret-key
DEBUG=True
ALLOWED_HOSTS=127.0.0.1,localhost

# --- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (–ª–æ–∫–∞–ª—å–Ω–∞ SQLite) ---
# –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –∑–∞–ª–∏—à—Ç–µ —Ç–∞–∫, –∞–±–æ –≤–∫–∞–∂—ñ B' DATABASE_URL –¥–ª—è Postgres
# DATABASE_URL=sqlite:///db.sqlite3

# --- Telegram Bot ---
TELEGRAM_BOT_TOKEN=your-telegram-bot-token

# --- API URL (–¥–ª—è –±–æ—Ç–∞) ---
# –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É:
API_URL=http://127.0.0.1:8000/api/friends/
```

**–í–∞–∂–ª–∏–≤–æ:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ Docker, `API_URL` —Ç–∞ `DATABASE_URL` –º–∞—é—Ç—å –±—É—Ç–∏ —ñ–Ω—à–∏–º–∏ (–¥–∏–≤. —Ä–æ–∑–¥—ñ–ª Docker).

-----

## üöÄ –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫

### 1\. –ó–∞–ø—É—Å–∫ –±–µ–∫–µ–Ω–¥—É (Django API)

–í–ø–µ–≤–Ω—ñ—Ç—å—Å—è, —â–æ –≤–∞—à–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–µ —Ç–∞ `.env` —Ñ–∞–π–ª –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π.

```bash
# –ó–∞–ø—É—Å–∫ Django development server
python manage.py runserver
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://127.0.0.1:8000/`.
–ê–¥–º—ñ–Ω–∫–∞: `http://127.0.0.1:8000/admin/`.

### 2\. –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞

–í—ñ–¥–∫—Ä–∏–π—Ç–µ **–Ω–æ–≤–∏–π —Ç–µ—Ä–º—ñ–Ω–∞–ª** (–Ω–µ –∑–∞–∫—Ä–∏–≤–∞—é—á–∏ –±–µ–∫–µ–Ω–¥), –∞–∫—Ç–∏–≤—É–π—Ç–µ `venv`:

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python app/bot.py
```

–ë–æ—Ç –ø–æ—á–Ω–µ –ø—Ä–∏–π–º–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `API_URL` –≤ `.env` –≤–∫–∞–∑–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

-----

## üê≥ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Docker

–ü—Ä–æ—î–∫—Ç –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∏–π –¥–æ –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ `docker-compose`.

1.  **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ `.env` –¥–ª—è Docker:**
    –ó–º—ñ–Ω—ñ—Ç—å —Ü—ñ —Ä—è–¥–∫–∏ —É –≤–∞—à–æ–º—É `.env` —Ñ–∞–π–ª—ñ:

    ```ini
    # --- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (–¥–ª—è Docker) ---
    DATABASE_URL=postgres://myuser:mypassword@db:5432/mydb
    POSTGRES_DB=mydb
    POSTGRES_USER=myuser
    POSTGRES_PASSWORD=mypassword

    # --- API URL (–¥–ª—è –±–æ—Ç–∞ –≤ Docker) ---
    API_URL=http://backend:8000/api/friends/
    ```

2.  **–ó–±—ñ—Ä–∫–∞ —Ç–∞ –∑–∞–ø—É—Å–∫:**
    –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

    ```bash
    docker-compose up --build -d
    ```

    –¶—è –∫–æ–º–∞–Ω–¥–∞ –ø—ñ–¥–Ω—ñ–º–µ 3 —Å–µ—Ä–≤—ñ—Å–∏: `db` (PostgreSQL), `backend` (Django) —Ç–∞ `bot` (Telegram).

3.  **–ó—É–ø–∏–Ω–∫–∞:**

    ```bash
    docker-compose down
    ```

-----

## üìã –û–ø–∏—Å API-–µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤

–ë–∞–∑–æ–≤–∞ URL: `http://localhost:8000/api/friends/`

### 1\. –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑—ñ–≤

  * **Endpoint:** `GET /api/friends/`
  * **–û–ø–∏—Å:** –ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –¥—Ä—É–∑—ñ–≤.
  * **–ü—Ä–∏–∫–ª–∞–¥ (cURL):**
    ```bash
    curl -X GET http://localhost:8000/api/friends/
    ```

### 2\. –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –¥—Ä—É–≥–∞

  * **Endpoint:** `GET /api/friends/<uuid:id>/`
  * **–û–ø–∏—Å:** –ü–æ–≤–µ—Ä—Ç–∞—î –¥–µ—Ç–∞–ª—ñ –æ–¥–Ω–æ–≥–æ –¥—Ä—É–≥–∞ –∑–∞ –π–æ–≥–æ ID.
  * **–ü—Ä–∏–∫–ª–∞–¥ (cURL):**
    ```bash
    curl -X GET http://localhost:8000/api/friends/b984b170-f1b6-4878-a693-271ab1df50d2/
    ```

### 3\. –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞

  * **Endpoint:** `POST /api/friends/`
  * **–û–ø–∏—Å:** –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞. –û—á—ñ–∫—É—î `multipart/form-data` —á–µ—Ä–µ–∑ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ñ–æ—Ç–æ.
  * **–î–∞–Ω—ñ (form-data):**
      * `name` (str, required)
      * `profession` (str, required)
      * `photo_url` (file, required)
      * `profession_description` (str, optional)